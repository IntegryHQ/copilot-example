"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/react-core */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-2MPUQRAY.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/react-core */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DCTJZ742.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @copilotkit/react-core */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-RYDEG77L.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @copilotkit/react-core */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-ZM6HV22S.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _integry_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @integry/sdk */ \"(app-pages-browser)/./node_modules/@integry/sdk/dist/esm/index.csm.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ \"(app-pages-browser)/./src/config.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\nfunction Home() {\n    _s();\n    useIntegryCopilotKitIntegration();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center justify-center min-h-screen\",\n        children: \"Integry Marketplace\"\n    }, void 0, false, {\n        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, this);\n}\n_s(Home, \"pNnxDWKybuAfXNlD39xU39vzQ+Y=\", false, function() {\n    return [\n        useIntegryCopilotKitIntegration\n    ];\n});\n_c = Home;\nfunction useIntegryCopilotKitIntegration() {\n    _s1();\n    const generalContext = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_4__.useCopilotContext)();\n    const messagesContext = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_5__.useCopilotMessagesContext)();\n    const context = {\n        ...generalContext,\n        ...messagesContext\n    };\n    const [integry, setIntegry] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        /**\n     * Initializing the Integry SDK object inside useEffect\n     */ _integry_sdk__WEBPACK_IMPORTED_MODULE_2__.Helpers.getAuthHash(_config__WEBPACK_IMPORTED_MODULE_3__.userId, _config__WEBPACK_IMPORTED_MODULE_3__.appSecret).then((hash1)=>{\n            const integry = new _integry_sdk__WEBPACK_IMPORTED_MODULE_2__.IntegryJS({\n                appKey: _config__WEBPACK_IMPORTED_MODULE_3__.appKey,\n                hash: hash1,\n                user: {\n                    userId: _config__WEBPACK_IMPORTED_MODULE_3__.userId,\n                    apiKey: \"\"\n                }\n            });\n            setIntegry(integry);\n        }).catch((error)=>{\n            console.error(\"Error fetching auth hash:\", error);\n        });\n    }, []);\n    (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotAction)({\n        name: \"findAndExecuteFunction\",\n        description: _config__WEBPACK_IMPORTED_MODULE_3__.findAndExecuteFunctionPrompt,\n        parameters: [\n            {\n                name: \"query\",\n                description: \"The query to search for a function\",\n                type: \"string\"\n            }\n        ],\n        handler: async ()=>{},\n        renderAndWait: (param)=>{\n            let { args, handler, status } = param;\n            if (status === \"inProgress\") {\n                window.addEventListener(\"message\", (event)=>{});\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: \"Loading...\"\n                }, void 0, false, {\n                    fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                    lineNumber: 75,\n                    columnNumber: 18\n                }, this);\n            } else if (status === \"executing\") {\n                console.log(args);\n                if (args.query.includes(\"disconnect\") && args.query.split(\".\")[1] && args.query.split(\".\").length === 2) {\n                    const appName = args.query.split(\".\")[1];\n                    integry.isConnected(appName).then((authorization_id)=>{\n                        if (authorization_id) {\n                            integry.disconnect(authorization_id).then((response)=>{\n                                handler();\n                            });\n                        } else {\n                            handler();\n                        }\n                    });\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            \"Disconnecting \",\n                            appName,\n                            \"...\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                        lineNumber: 94,\n                        columnNumber: 20\n                    }, this);\n                } else if (args.query.includes(\"connect\") && args.query.split(\".\")[1] && args.query.split(\".\").length === 2) {\n                    const appName = args.query.split(\".\")[1];\n                    integry.isConnected(appName).then((authorization_id)=>{\n                        if (authorization_id) {\n                            handler(\"Already connected.\");\n                        } else {\n                            integry.connect(appName).then((response)=>{\n                                handler(\"Connected successfully.\");\n                            });\n                        }\n                    });\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            \"Connecting \",\n                            appName,\n                            \"...\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                        lineNumber: 111,\n                        columnNumber: 20\n                    }, this);\n                }\n                const execute = ()=>{\n                    console.log(\"now executing the function...\");\n                    console.log(args);\n                    return fakeExecutingFunction(context, args.query);\n                };\n                fetchFunctions(_config__WEBPACK_IMPORTED_MODULE_3__.appKey, hash, _config__WEBPACK_IMPORTED_MODULE_3__.userId, true, args.query).then((data)=>{\n                    if (data.functions.length === 0) {\n                        handler(\"No appropriate function found.\");\n                        return;\n                    }\n                    integry.isConnected(data.functions[0].meta.app.name).then((authorization_id)=>{\n                        /**\n                   * returns the authorization_id if the app is connected\n                   * otherwise returns false\n                   */ if (authorization_id) {\n                            renderFunctionUI();\n                        } else {\n                            integry.connect(data.functions[0].meta.app.name).then((response)=>{\n                                renderFunctionUI();\n                            });\n                        }\n                    });\n                    function renderFunctionUI() {\n                        integry.renderFunctionUI(data.functions[0].name, data.functions[0].arguments).then((result)=>{\n                            integry.invokeFunction(result).then((response)=>{\n                                console.log(response);\n                                closePopup();\n                                handler(response);\n                            }).catch((error)=>{\n                                console.error(\"Error2:\", error);\n                            });\n                        }).catch((error)=>{\n                            console.error(\"Error2:\", error);\n                        });\n                    }\n                }).catch((error)=>{\n                    // Handle any errors from the fetchFunctions call\n                    console.error(\"Fetch failed:\", error);\n                });\n                return(// <ExecutionPrompt args={args} handler={handler} execute={execute} />\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: \"Setting this up for you...\"\n                }, void 0, false, {\n                    fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                    lineNumber: 173,\n                    columnNumber: 13\n                }, this));\n            } else {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"none\"\n                    },\n                    children: [\n                        \"Executed: \",\n                        args.query\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                    lineNumber: 176,\n                    columnNumber: 18\n                }, this);\n            }\n        }\n    });\n// useCopilotReadable({\n//   description: \"The list Integry functions.\",\n//   value: functions,\n// });\n}\n_s1(useIntegryCopilotKitIntegration, \"em1qDK4j+Wa3+sA1oxeb1YZkjcU=\", false, function() {\n    return [\n        _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_4__.useCopilotContext,\n        _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_5__.useCopilotMessagesContext,\n        _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotAction\n    ];\n});\nfunction ExecutionPrompt(param) {\n    let { args, handler, execute } = param;\n    _s2();\n    const [buttonActive, setButtonActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col items-center space-y-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    \"Do you want to execute the query: \",\n                    args.query,\n                    \"?\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                lineNumber: 216,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex space-x-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"px-4 py-2 text-white rounded \".concat(buttonActive ? \"bg-blue-300\" : \"bg-blue-500 hover:bg-blue-600\"),\n                        onClick: async ()=>{\n                            setButtonActive(true);\n                            const result = await execute();\n                            setButtonActive(false);\n                            handler({\n                                result\n                            });\n                        },\n                        disabled: buttonActive,\n                        children: \"Execute\"\n                    }, void 0, false, {\n                        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                        lineNumber: 218,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600\",\n                        onClick: ()=>handler(\"Function cancelled by the user. This is not an issue, it's ok.\"),\n                        children: \"Cancel\"\n                    }, void 0, false, {\n                        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                        lineNumber: 232,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                lineNumber: 217,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n        lineNumber: 215,\n        columnNumber: 5\n    }, this);\n}\n_s2(ExecutionPrompt, \"3EjVUVtYcxofuPA8032aWxN9Myk=\");\n_c1 = ExecutionPrompt;\nasync function fakeExecutingFunction(context, query) {\n    const { fakeJSONResult } = await (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_7__.extract)({\n        context,\n        instructions: \"The user asked to find and execute a function. You are given a query.\" + \"Make up a fake JSON result that can be used to simulate executing a function.\",\n        parameters: [\n            {\n                name: \"fakeJSONResult\",\n                description: \"A fake JSON result that can be used to simulate executing a function.\",\n                type: \"string\"\n            }\n        ],\n        data: {\n            query\n        }\n    });\n    return fakeJSONResult;\n}\nasync function fetchFunctions(appKey, hash1, userId, predict, prompt) {\n    // Construct the URL with the provided parameters\n    const url = \"https://app.integry.io/functions/?app_key=\".concat(encodeURIComponent(appKey), \"&hash=\").concat(encodeURIComponent(hash1), \"&user_id=\").concat(encodeURIComponent(userId), \"&predict_function=\").concat(predict, \"&prompt=\").concat(encodeURIComponent(prompt), \"&include=meta&predict_arguments=true\");\n    try {\n        const response = await fetch(url, {\n            method: \"GET\"\n        });\n        if (!response.ok) {\n            throw new Error(\"Network response was not ok: \" + response.statusText);\n        }\n        const data = await response.json(); // Parse the JSON from the response\n        return data; // Return the data\n    } catch (error) {\n        console.error(\"There was a problem with the fetch operation:\", error);\n        throw error; // Rethrow the error if needed\n    }\n}\n/**\n * A helper function use to force close the Integry dialogs.\n */ function closePopup() {\n    // Select the element whose ID starts with 'x-integry-modal'\n    const popup = document.querySelector('[id^=\"x-integry-modal\"]');\n    // Check if the popup exists before attempting to remove it\n    if (popup) {\n        popup.remove(); // Remove the popup from the DOM\n    } else {\n        console.log(\"Popup not found\"); // Optional: log if no popup was found\n    }\n}\nvar _c, _c1;\n$RefreshReg$(_c, \"Home\");\n$RefreshReg$(_c1, \"ExecutionPrompt\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBT2dDO0FBQ1k7QUFDTTtBQU0vQjtBQUVKLFNBQVNZOztJQUN0QkM7SUFDQSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTtrQkFBZ0Q7Ozs7OztBQUluRTtHQVB3Qkg7O1FBQ3RCQzs7O0tBRHNCRDtBQWN4QixTQUFTQzs7SUFDUCxNQUFNRyxpQkFBaUJkLHlFQUFpQkE7SUFDeEMsTUFBTWUsa0JBQWtCZCxpRkFBeUJBO0lBQ2pELE1BQU1lLFVBQVU7UUFBRSxHQUFHRixjQUFjO1FBQUUsR0FBR0MsZUFBZTtJQUFDO0lBRXhELE1BQU0sQ0FBQ0UsU0FBU0MsV0FBVyxHQUFHaEIsK0NBQVFBLENBQUM7SUFFdkNDLGdEQUFTQSxDQUFDO1FBQ1I7O0tBRUMsR0FDREUsaURBQU9BLENBQUNjLFdBQVcsQ0FBQ1gsMkNBQU1BLEVBQUVELDhDQUFTQSxFQUNsQ2EsSUFBSSxDQUFDLENBQUNDO1lBQ0wsTUFBTUosVUFBVSxJQUFJYixtREFBU0EsQ0FBQztnQkFDNUJFLE1BQU1BLDZDQUFBQTtnQkFDTmUsTUFBQUE7Z0JBQ0FDLE1BQU07b0JBQ0pkLFFBQVFBLDJDQUFNQTtvQkFDZGUsUUFBUTtnQkFDVjtZQUNGO1lBQ0FMLFdBQVdEO1FBQ2IsR0FDQ08sS0FBSyxDQUFDLENBQUNDO1lBQ05DLFFBQVFELEtBQUssQ0FBQyw2QkFBNkJBO1FBQzdDO0lBQ0osR0FBRyxFQUFFO0lBRUwzQix3RUFBZ0JBLENBQ2Q7UUFDRTZCLE1BQU07UUFDTkMsYUFBYW5CLGlFQUE0QkE7UUFDekNvQixZQUFZO1lBQ1Y7Z0JBQ0VGLE1BQU07Z0JBQ05DLGFBQWE7Z0JBQ2JFLE1BQU07WUFDUjtTQUNEO1FBQ0RDLFNBQVMsV0FBYTtRQUN0QkMsZUFBZTtnQkFBQyxFQUFFQyxJQUFJLEVBQUVGLE9BQU8sRUFBRUcsTUFBTSxFQUFFO1lBQ3ZDLElBQUlBLFdBQVcsY0FBYztnQkFDM0JDLE9BQU9DLGdCQUFnQixDQUFDLFdBQVcsQ0FBQ0MsU0FBVztnQkFDL0MscUJBQU8sOERBQUN6Qjs4QkFBSTs7Ozs7O1lBQ2QsT0FBTyxJQUFJc0IsV0FBVyxhQUFhO2dCQUNqQ1IsUUFBUVksR0FBRyxDQUFDTDtnQkFDWixJQUNFQSxLQUFLTSxLQUFLLENBQUNDLFFBQVEsQ0FBQyxpQkFDcEJQLEtBQUtNLEtBQUssQ0FBQ0UsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQ3hCUixLQUFLTSxLQUFLLENBQUNFLEtBQUssQ0FBQyxLQUFLQyxNQUFNLEtBQUssR0FDakM7b0JBQ0EsTUFBTUMsVUFBVVYsS0FBS00sS0FBSyxDQUFDRSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ3hDeEIsUUFBUTJCLFdBQVcsQ0FBQ0QsU0FBU3ZCLElBQUksQ0FBQyxDQUFDeUI7d0JBQ2pDLElBQUlBLGtCQUFrQjs0QkFDcEI1QixRQUFRNkIsVUFBVSxDQUFDRCxrQkFBa0J6QixJQUFJLENBQUMsQ0FBQzJCO2dDQUN6Q2hCOzRCQUNGO3dCQUNGLE9BQU87NEJBQ0xBO3dCQUNGO29CQUNGO29CQUVBLHFCQUFPLDhEQUFDbkI7OzRCQUFJOzRCQUFlK0I7NEJBQVE7Ozs7Ozs7Z0JBQ3JDLE9BQU8sSUFDTFYsS0FBS00sS0FBSyxDQUFDQyxRQUFRLENBQUMsY0FDcEJQLEtBQUtNLEtBQUssQ0FBQ0UsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQ3hCUixLQUFLTSxLQUFLLENBQUNFLEtBQUssQ0FBQyxLQUFLQyxNQUFNLEtBQUssR0FDakM7b0JBQ0EsTUFBTUMsVUFBVVYsS0FBS00sS0FBSyxDQUFDRSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ3hDeEIsUUFBUTJCLFdBQVcsQ0FBQ0QsU0FBU3ZCLElBQUksQ0FBQyxDQUFDeUI7d0JBQ2pDLElBQUlBLGtCQUFrQjs0QkFDcEJkLFFBQVE7d0JBQ1YsT0FBTzs0QkFDTGQsUUFBUStCLE9BQU8sQ0FBQ0wsU0FBU3ZCLElBQUksQ0FBQyxDQUFDMkI7Z0NBQzdCaEIsUUFBUTs0QkFDVjt3QkFDRjtvQkFDRjtvQkFFQSxxQkFBTyw4REFBQ25COzs0QkFBSTs0QkFBWStCOzRCQUFROzs7Ozs7O2dCQUNsQztnQkFDQSxNQUFNTSxVQUFVO29CQUNkdkIsUUFBUVksR0FBRyxDQUFDO29CQUNaWixRQUFRWSxHQUFHLENBQUNMO29CQUNaLE9BQU9pQixzQkFBc0JsQyxTQUFTaUIsS0FBS00sS0FBSztnQkFDbEQ7Z0JBRUFZLGVBQWU3QywyQ0FBTUEsRUFBRWUsTUFBTWIsMkNBQU1BLEVBQUUsTUFBTXlCLEtBQUtNLEtBQUssRUFDbERuQixJQUFJLENBQUMsQ0FBQ2dDO29CQUNMLElBQUlBLEtBQUtDLFNBQVMsQ0FBQ1gsTUFBTSxLQUFLLEdBQUc7d0JBQy9CWCxRQUFRO3dCQUNSO29CQUNGO29CQUNBZCxRQUNHMkIsV0FBVyxDQUFDUSxLQUFLQyxTQUFTLENBQUMsRUFBRSxDQUFDQyxJQUFJLENBQUNDLEdBQUcsQ0FBQzVCLElBQUksRUFDM0NQLElBQUksQ0FBQyxDQUFDeUI7d0JBQ0w7OzttQkFHQyxHQUNELElBQUlBLGtCQUFrQjs0QkFDcEJXO3dCQUNGLE9BQU87NEJBQ0x2QyxRQUNHK0IsT0FBTyxDQUFDSSxLQUFLQyxTQUFTLENBQUMsRUFBRSxDQUFDQyxJQUFJLENBQUNDLEdBQUcsQ0FBQzVCLElBQUksRUFDdkNQLElBQUksQ0FBQyxDQUFDMkI7Z0NBQ0xTOzRCQUNGO3dCQUNKO29CQUNGO29CQUVGLFNBQVNBO3dCQUNQdkMsUUFDR3VDLGdCQUFnQixDQUNmSixLQUFLQyxTQUFTLENBQUMsRUFBRSxDQUFDMUIsSUFBSSxFQUN0QnlCLEtBQUtDLFNBQVMsQ0FBQyxFQUFFLENBQUNJLFNBQVMsRUFFNUJyQyxJQUFJLENBQUMsQ0FBQ3NDOzRCQUNMekMsUUFDRzBDLGNBQWMsQ0FBQ0QsUUFDZnRDLElBQUksQ0FBQyxDQUFDMkI7Z0NBQ0xyQixRQUFRWSxHQUFHLENBQUNTO2dDQUNaYTtnQ0FDQTdCLFFBQVFnQjs0QkFDVixHQUNDdkIsS0FBSyxDQUFDLENBQUNDO2dDQUNOQyxRQUFRRCxLQUFLLENBQUMsV0FBV0E7NEJBQzNCO3dCQUNKLEdBQ0NELEtBQUssQ0FBQyxDQUFDQzs0QkFDTkMsUUFBUUQsS0FBSyxDQUFDLFdBQVdBO3dCQUMzQjtvQkFDSjtnQkFDRixHQUNDRCxLQUFLLENBQUMsQ0FBQ0M7b0JBQ04saURBQWlEO29CQUNqREMsUUFBUUQsS0FBSyxDQUFDLGlCQUFpQkE7Z0JBQ2pDO2dCQUVGLE9BQ0Usc0VBQXNFOzhCQUN0RSw4REFBQ2I7OEJBQUk7Ozs7OztZQUVULE9BQU87Z0JBQ0wscUJBQU8sOERBQUNBO29CQUFJaUQsT0FBTzt3QkFBRUMsU0FBUztvQkFBTzs7d0JBQUc7d0JBQVc3QixLQUFLTSxLQUFLOzs7Ozs7O1lBQy9EO1FBQ0Y7SUFDRjtBQWtCRix1QkFBdUI7QUFDdkIsZ0RBQWdEO0FBQ2hELHNCQUFzQjtBQUN0QixNQUFNO0FBQ1I7SUF6S1M1Qjs7UUFDZ0JYLHFFQUFpQkE7UUFDaEJDLDZFQUF5QkE7UUEwQmpESCxvRUFBZ0JBOzs7QUErSWxCLFNBQVNpRSxnQkFBZ0IsS0FReEI7UUFSd0IsRUFDdkI5QixJQUFJLEVBQ0pGLE9BQU8sRUFDUGtCLE9BQU8sRUFLUixHQVJ3Qjs7SUFTdkIsTUFBTSxDQUFDZSxjQUFjQyxnQkFBZ0IsR0FBRy9ELCtDQUFRQSxDQUFDO0lBRWpELHFCQUNFLDhEQUFDVTtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7O29CQUFJO29CQUFtQ3FCLEtBQUtNLEtBQUs7b0JBQUM7Ozs7Ozs7MEJBQ25ELDhEQUFDM0I7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDcUQ7d0JBQ0NyRCxXQUFXLGdDQUVWLE9BRENtRCxlQUFlLGdCQUFnQjt3QkFFakNHLFNBQVM7NEJBQ1BGLGdCQUFnQjs0QkFDaEIsTUFBTVAsU0FBUyxNQUFNVDs0QkFDckJnQixnQkFBZ0I7NEJBQ2hCbEMsUUFBUTtnQ0FBRTJCOzRCQUFPO3dCQUNuQjt3QkFDQVUsVUFBVUo7a0NBQ1g7Ozs7OztrQ0FHRCw4REFBQ0U7d0JBQ0NyRCxXQUFVO3dCQUNWc0QsU0FBUyxJQUNQcEMsUUFDRTtrQ0FHTDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTVQ7SUExQ1NnQztNQUFBQTtBQTRDVCxlQUFlYixzQkFBc0JsQyxPQUFZLEVBQUV1QixLQUFhO0lBQzlELE1BQU0sRUFBRThCLGNBQWMsRUFBRSxHQUFHLE1BQU10RSwrREFBT0EsQ0FBQztRQUN2Q2lCO1FBQ0FzRCxjQUNFLDBFQUNBO1FBQ0Z6QyxZQUFZO1lBQ1Y7Z0JBQ0VGLE1BQU07Z0JBQ05DLGFBQ0U7Z0JBQ0ZFLE1BQU07WUFDUjtTQUNEO1FBQ0RzQixNQUFNO1lBQ0piO1FBQ0Y7SUFDRjtJQUNBLE9BQU84QjtBQUNUO0FBRUEsZUFBZWxCLGVBQWU3QyxNQUFNLEVBQUVlLEtBQUksRUFBRWIsTUFBTSxFQUFFK0QsT0FBTyxFQUFFQyxNQUFNO0lBQ2pFLGlEQUFpRDtJQUNqRCxNQUFNQyxNQUFNLDZDQUVGQyxPQUYrQ0EsbUJBQ3ZEcEUsU0FDQSxVQUE0Q29FLE9BQXBDQSxtQkFBbUJyRCxRQUFNLGFBRWJrRCxPQUZ3QkcsbUJBQzVDbEUsU0FDQSxzQkFBc0NrRSxPQUFsQkgsU0FBUSxZQUU1QixPQUZzQ0csbUJBQ3RDRixTQUNBO0lBRUYsSUFBSTtRQUNGLE1BQU16QixXQUFXLE1BQU00QixNQUFNRixLQUFLO1lBQ2hDRyxRQUFRO1FBQ1Y7UUFFQSxJQUFJLENBQUM3QixTQUFTOEIsRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSUMsTUFBTSxrQ0FBa0MvQixTQUFTZ0MsVUFBVTtRQUN2RTtRQUVBLE1BQU0zQixPQUFPLE1BQU1MLFNBQVNpQyxJQUFJLElBQUksbUNBQW1DO1FBQ3ZFLE9BQU81QixNQUFNLGtCQUFrQjtJQUNqQyxFQUFFLE9BQU8zQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxpREFBaURBO1FBQy9ELE1BQU1BLE9BQU8sOEJBQThCO0lBQzdDO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNELFNBQVNtQztJQUNQLDREQUE0RDtJQUM1RCxNQUFNcUIsUUFBUUMsU0FBU0MsYUFBYSxDQUFDO0lBRXJDLDJEQUEyRDtJQUMzRCxJQUFJRixPQUFPO1FBQ1RBLE1BQU1HLE1BQU0sSUFBSSxnQ0FBZ0M7SUFDbEQsT0FBTztRQUNMMUQsUUFBUVksR0FBRyxDQUFDLG9CQUFvQixzQ0FBc0M7SUFDeEU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHtcbiAgdXNlQ29waWxvdEFjdGlvbixcbiAgZXh0cmFjdCxcbiAgdXNlQ29waWxvdENvbnRleHQsXG4gIHVzZUNvcGlsb3RNZXNzYWdlc0NvbnRleHQsXG59IGZyb20gXCJAY29waWxvdGtpdC9yZWFjdC1jb3JlXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBJbnRlZ3J5SlMsIEhlbHBlcnMgfSBmcm9tIFwiQGludGVncnkvc2RrXCI7XG5pbXBvcnQge1xuICBhcHBLZXksXG4gIGFwcFNlY3JldCxcbiAgdXNlcklkLFxuICBmaW5kQW5kRXhlY3V0ZUZ1bmN0aW9uUHJvbXB0LFxufSBmcm9tIFwiLi4vY29uZmlnXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gIHVzZUludGVncnlDb3BpbG90S2l0SW50ZWdyYXRpb24oKTtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLXNjcmVlblwiPlxuICAgICAgSW50ZWdyeSBNYXJrZXRwbGFjZVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5pbnRlcmZhY2UgRmluZEFuZEV4ZWN1dGVGdW5jdGlvbkFyZ3Mge1xuICBxdWVyeTogc3RyaW5nOyAvLyBBZGp1c3QgYmFzZWQgb24gd2hhdCB5b3UgZXhwZWN0IGluIGFyZ3NcbiAgLy8gQWRkIGFueSBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgdGhhdCBhcmUgcGFydCBvZiBhcmdzIGhlcmVcbn1cblxuZnVuY3Rpb24gdXNlSW50ZWdyeUNvcGlsb3RLaXRJbnRlZ3JhdGlvbigpIHtcbiAgY29uc3QgZ2VuZXJhbENvbnRleHQgPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCBtZXNzYWdlc0NvbnRleHQgPSB1c2VDb3BpbG90TWVzc2FnZXNDb250ZXh0KCk7XG4gIGNvbnN0IGNvbnRleHQgPSB7IC4uLmdlbmVyYWxDb250ZXh0LCAuLi5tZXNzYWdlc0NvbnRleHQgfTtcblxuICBjb25zdCBbaW50ZWdyeSwgc2V0SW50ZWdyeV0gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemluZyB0aGUgSW50ZWdyeSBTREsgb2JqZWN0IGluc2lkZSB1c2VFZmZlY3RcbiAgICAgKi9cbiAgICBIZWxwZXJzLmdldEF1dGhIYXNoKHVzZXJJZCwgYXBwU2VjcmV0KVxuICAgICAgLnRoZW4oKGhhc2g6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBpbnRlZ3J5ID0gbmV3IEludGVncnlKUyh7XG4gICAgICAgICAgYXBwS2V5LFxuICAgICAgICAgIGhhc2gsXG4gICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICBhcGlLZXk6IFwiXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHNldEludGVncnkoaW50ZWdyeSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBhdXRoIGhhc2g6XCIsIGVycm9yKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgdXNlQ29waWxvdEFjdGlvbihcbiAgICB7XG4gICAgICBuYW1lOiBcImZpbmRBbmRFeGVjdXRlRnVuY3Rpb25cIixcbiAgICAgIGRlc2NyaXB0aW9uOiBmaW5kQW5kRXhlY3V0ZUZ1bmN0aW9uUHJvbXB0LFxuICAgICAgcGFyYW1ldGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogXCJxdWVyeVwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBxdWVyeSB0byBzZWFyY2ggZm9yIGEgZnVuY3Rpb25cIixcbiAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHt9LFxuICAgICAgcmVuZGVyQW5kV2FpdDogKHsgYXJncywgaGFuZGxlciwgc3RhdHVzIH0pID0+IHtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gXCJpblByb2dyZXNzXCIpIHtcbiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGV2ZW50KSA9PiB7fSk7XG4gICAgICAgICAgcmV0dXJuIDxkaXY+TG9hZGluZy4uLjwvZGl2PjtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IFwiZXhlY3V0aW5nXCIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhhcmdzKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBhcmdzLnF1ZXJ5LmluY2x1ZGVzKFwiZGlzY29ubmVjdFwiKSAmJlxuICAgICAgICAgICAgYXJncy5xdWVyeS5zcGxpdChcIi5cIilbMV0gJiZcbiAgICAgICAgICAgIGFyZ3MucXVlcnkuc3BsaXQoXCIuXCIpLmxlbmd0aCA9PT0gMlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgYXBwTmFtZSA9IGFyZ3MucXVlcnkuc3BsaXQoXCIuXCIpWzFdO1xuICAgICAgICAgICAgaW50ZWdyeS5pc0Nvbm5lY3RlZChhcHBOYW1lKS50aGVuKChhdXRob3JpemF0aW9uX2lkKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChhdXRob3JpemF0aW9uX2lkKSB7XG4gICAgICAgICAgICAgICAgaW50ZWdyeS5kaXNjb25uZWN0KGF1dGhvcml6YXRpb25faWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIDxkaXY+RGlzY29ubmVjdGluZyB7YXBwTmFtZX0uLi48L2Rpdj47XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGFyZ3MucXVlcnkuaW5jbHVkZXMoXCJjb25uZWN0XCIpICYmXG4gICAgICAgICAgICBhcmdzLnF1ZXJ5LnNwbGl0KFwiLlwiKVsxXSAmJlxuICAgICAgICAgICAgYXJncy5xdWVyeS5zcGxpdChcIi5cIikubGVuZ3RoID09PSAyXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBhcHBOYW1lID0gYXJncy5xdWVyeS5zcGxpdChcIi5cIilbMV07XG4gICAgICAgICAgICBpbnRlZ3J5LmlzQ29ubmVjdGVkKGFwcE5hbWUpLnRoZW4oKGF1dGhvcml6YXRpb25faWQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGF1dGhvcml6YXRpb25faWQpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKFwiQWxyZWFkeSBjb25uZWN0ZWQuXCIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGludGVncnkuY29ubmVjdChhcHBOYW1lKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlcihcIkNvbm5lY3RlZCBzdWNjZXNzZnVsbHkuXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIDxkaXY+Q29ubmVjdGluZyB7YXBwTmFtZX0uLi48L2Rpdj47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGV4ZWN1dGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdyBleGVjdXRpbmcgdGhlIGZ1bmN0aW9uLi4uXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYXJncyk7XG4gICAgICAgICAgICByZXR1cm4gZmFrZUV4ZWN1dGluZ0Z1bmN0aW9uKGNvbnRleHQsIGFyZ3MucXVlcnkpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBmZXRjaEZ1bmN0aW9ucyhhcHBLZXksIGhhc2gsIHVzZXJJZCwgdHJ1ZSwgYXJncy5xdWVyeSlcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChkYXRhLmZ1bmN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKFwiTm8gYXBwcm9wcmlhdGUgZnVuY3Rpb24gZm91bmQuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpbnRlZ3J5XG4gICAgICAgICAgICAgICAgLmlzQ29ubmVjdGVkKGRhdGEuZnVuY3Rpb25zWzBdLm1ldGEuYXBwLm5hbWUpXG4gICAgICAgICAgICAgICAgLnRoZW4oKGF1dGhvcml6YXRpb25faWQpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICogcmV0dXJucyB0aGUgYXV0aG9yaXphdGlvbl9pZCBpZiB0aGUgYXBwIGlzIGNvbm5lY3RlZFxuICAgICAgICAgICAgICAgICAgICogb3RoZXJ3aXNlIHJldHVybnMgZmFsc2VcbiAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgaWYgKGF1dGhvcml6YXRpb25faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyRnVuY3Rpb25VSSgpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZWdyeVxuICAgICAgICAgICAgICAgICAgICAgIC5jb25uZWN0KGRhdGEuZnVuY3Rpb25zWzBdLm1ldGEuYXBwLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJGdW5jdGlvblVJKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgZnVuY3Rpb24gcmVuZGVyRnVuY3Rpb25VSSgpIHtcbiAgICAgICAgICAgICAgICBpbnRlZ3J5XG4gICAgICAgICAgICAgICAgICAucmVuZGVyRnVuY3Rpb25VSShcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5mdW5jdGlvbnNbMF0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5mdW5jdGlvbnNbMF0uYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGludGVncnlcbiAgICAgICAgICAgICAgICAgICAgICAuaW52b2tlRnVuY3Rpb24ocmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcihyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IyOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IyOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgLy8gSGFuZGxlIGFueSBlcnJvcnMgZnJvbSB0aGUgZmV0Y2hGdW5jdGlvbnMgY2FsbFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmV0Y2ggZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAvLyA8RXhlY3V0aW9uUHJvbXB0IGFyZ3M9e2FyZ3N9IGhhbmRsZXI9e2hhbmRsZXJ9IGV4ZWN1dGU9e2V4ZWN1dGV9IC8+XG4gICAgICAgICAgICA8ZGl2PlNldHRpbmcgdGhpcyB1cCBmb3IgeW91Li4uPC9kaXY+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fT5FeGVjdXRlZDoge2FyZ3MucXVlcnl9PC9kaXY+O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH1cbiAgICAvLyB7XG4gICAgLy8gICBuYW1lOiBcImFkZFRvZG9JdGVtXCIsXG4gICAgLy8gICBkZXNjcmlwdGlvbjogXCJBZGQgYSBuZXcgdG9kbyBpdGVtIHRvIHRoZSBsaXN0XCIsXG4gICAgLy8gICBwYXJhbWV0ZXJzOiBbXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICBuYW1lOiBcInRvZG9UZXh0XCIsXG4gICAgLy8gICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAvLyAgICAgICBkZXNjcmlwdGlvbjogXCJUaGUgdGV4dCBvZiB0aGUgdG9kbyBpdGVtIHRvIGFkZFwiLFxuICAgIC8vICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIC8vICAgICB9LFxuICAgIC8vICAgXSxcbiAgICAvLyAgIGhhbmRsZXI6IGFzeW5jICh7IHRvZG9UZXh0IH0pID0+IHtcbiAgICAvLyAgICAgY29uc29sZS5sb2codG9kb1RleHQpO1xuICAgIC8vICAgfSxcbiAgICAvLyB9XG4gICk7XG5cbiAgLy8gdXNlQ29waWxvdFJlYWRhYmxlKHtcbiAgLy8gICBkZXNjcmlwdGlvbjogXCJUaGUgbGlzdCBJbnRlZ3J5IGZ1bmN0aW9ucy5cIixcbiAgLy8gICB2YWx1ZTogZnVuY3Rpb25zLFxuICAvLyB9KTtcbn1cblxuZnVuY3Rpb24gRXhlY3V0aW9uUHJvbXB0KHtcbiAgYXJncyxcbiAgaGFuZGxlcixcbiAgZXhlY3V0ZSxcbn06IHtcbiAgYXJnczogYW55O1xuICBoYW5kbGVyOiBhbnk7XG4gIGV4ZWN1dGU6ICgpID0+IFByb21pc2U8YW55Pjtcbn0pIHtcbiAgY29uc3QgW2J1dHRvbkFjdGl2ZSwgc2V0QnV0dG9uQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgc3BhY2UteS00XCI+XG4gICAgICA8ZGl2PkRvIHlvdSB3YW50IHRvIGV4ZWN1dGUgdGhlIHF1ZXJ5OiB7YXJncy5xdWVyeX0/PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC00XCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIgdGV4dC13aGl0ZSByb3VuZGVkICR7XG4gICAgICAgICAgICBidXR0b25BY3RpdmUgPyBcImJnLWJsdWUtMzAwXCIgOiBcImJnLWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNjAwXCJcbiAgICAgICAgICB9YH1cbiAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBzZXRCdXR0b25BY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlKCk7XG4gICAgICAgICAgICBzZXRCdXR0b25BY3RpdmUoZmFsc2UpO1xuICAgICAgICAgICAgaGFuZGxlcih7IHJlc3VsdCB9KTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIGRpc2FibGVkPXtidXR0b25BY3RpdmV9XG4gICAgICAgID5cbiAgICAgICAgICBFeGVjdXRlXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWdyYXktNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTYwMFwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgIGhhbmRsZXIoXG4gICAgICAgICAgICAgIFwiRnVuY3Rpb24gY2FuY2VsbGVkIGJ5IHRoZSB1c2VyLiBUaGlzIGlzIG5vdCBhbiBpc3N1ZSwgaXQncyBvay5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgPlxuICAgICAgICAgIENhbmNlbFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5hc3luYyBmdW5jdGlvbiBmYWtlRXhlY3V0aW5nRnVuY3Rpb24oY29udGV4dDogYW55LCBxdWVyeTogc3RyaW5nKSB7XG4gIGNvbnN0IHsgZmFrZUpTT05SZXN1bHQgfSA9IGF3YWl0IGV4dHJhY3Qoe1xuICAgIGNvbnRleHQsXG4gICAgaW5zdHJ1Y3Rpb25zOlxuICAgICAgXCJUaGUgdXNlciBhc2tlZCB0byBmaW5kIGFuZCBleGVjdXRlIGEgZnVuY3Rpb24uIFlvdSBhcmUgZ2l2ZW4gYSBxdWVyeS5cIiArXG4gICAgICBcIk1ha2UgdXAgYSBmYWtlIEpTT04gcmVzdWx0IHRoYXQgY2FuIGJlIHVzZWQgdG8gc2ltdWxhdGUgZXhlY3V0aW5nIGEgZnVuY3Rpb24uXCIsXG4gICAgcGFyYW1ldGVyczogW1xuICAgICAge1xuICAgICAgICBuYW1lOiBcImZha2VKU09OUmVzdWx0XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgIFwiQSBmYWtlIEpTT04gcmVzdWx0IHRoYXQgY2FuIGJlIHVzZWQgdG8gc2ltdWxhdGUgZXhlY3V0aW5nIGEgZnVuY3Rpb24uXCIsXG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICB9LFxuICAgIF0sXG4gICAgZGF0YToge1xuICAgICAgcXVlcnksXG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiBmYWtlSlNPTlJlc3VsdDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hGdW5jdGlvbnMoYXBwS2V5LCBoYXNoLCB1c2VySWQsIHByZWRpY3QsIHByb21wdCkge1xuICAvLyBDb25zdHJ1Y3QgdGhlIFVSTCB3aXRoIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzXG4gIGNvbnN0IHVybCA9IGBodHRwczovL2FwcC5pbnRlZ3J5LmlvL2Z1bmN0aW9ucy8/YXBwX2tleT0ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICBhcHBLZXlcbiAgKX0maGFzaD0ke2VuY29kZVVSSUNvbXBvbmVudChoYXNoKX0mdXNlcl9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICB1c2VySWRcbiAgKX0mcHJlZGljdF9mdW5jdGlvbj0ke3ByZWRpY3R9JnByb21wdD0ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICBwcm9tcHRcbiAgKX0maW5jbHVkZT1tZXRhJnByZWRpY3RfYXJndW1lbnRzPXRydWVgO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIiwgLy8gRGVmYXVsdCBtZXRob2QgaXMgR0VUXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2s6IFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsgLy8gUGFyc2UgdGhlIEpTT04gZnJvbSB0aGUgcmVzcG9uc2VcbiAgICByZXR1cm4gZGF0YTsgLy8gUmV0dXJuIHRoZSBkYXRhXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlRoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgZmV0Y2ggb3BlcmF0aW9uOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7IC8vIFJldGhyb3cgdGhlIGVycm9yIGlmIG5lZWRlZFxuICB9XG59XG5cbi8qKlxuICogQSBoZWxwZXIgZnVuY3Rpb24gdXNlIHRvIGZvcmNlIGNsb3NlIHRoZSBJbnRlZ3J5IGRpYWxvZ3MuXG4gKi9cbmZ1bmN0aW9uIGNsb3NlUG9wdXAoKSB7XG4gIC8vIFNlbGVjdCB0aGUgZWxlbWVudCB3aG9zZSBJRCBzdGFydHMgd2l0aCAneC1pbnRlZ3J5LW1vZGFsJ1xuICBjb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tpZF49XCJ4LWludGVncnktbW9kYWxcIl0nKTtcblxuICAvLyBDaGVjayBpZiB0aGUgcG9wdXAgZXhpc3RzIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlbW92ZSBpdFxuICBpZiAocG9wdXApIHtcbiAgICBwb3B1cC5yZW1vdmUoKTsgLy8gUmVtb3ZlIHRoZSBwb3B1cCBmcm9tIHRoZSBET01cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhcIlBvcHVwIG5vdCBmb3VuZFwiKTsgLy8gT3B0aW9uYWw6IGxvZyBpZiBubyBwb3B1cCB3YXMgZm91bmRcbiAgfVxufVxuIl0sIm5hbWVzIjpbInVzZUNvcGlsb3RBY3Rpb24iLCJleHRyYWN0IiwidXNlQ29waWxvdENvbnRleHQiLCJ1c2VDb3BpbG90TWVzc2FnZXNDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJJbnRlZ3J5SlMiLCJIZWxwZXJzIiwiYXBwS2V5IiwiYXBwU2VjcmV0IiwidXNlcklkIiwiZmluZEFuZEV4ZWN1dGVGdW5jdGlvblByb21wdCIsIkhvbWUiLCJ1c2VJbnRlZ3J5Q29waWxvdEtpdEludGVncmF0aW9uIiwiZGl2IiwiY2xhc3NOYW1lIiwiZ2VuZXJhbENvbnRleHQiLCJtZXNzYWdlc0NvbnRleHQiLCJjb250ZXh0IiwiaW50ZWdyeSIsInNldEludGVncnkiLCJnZXRBdXRoSGFzaCIsInRoZW4iLCJoYXNoIiwidXNlciIsImFwaUtleSIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicGFyYW1ldGVycyIsInR5cGUiLCJoYW5kbGVyIiwicmVuZGVyQW5kV2FpdCIsImFyZ3MiLCJzdGF0dXMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJsb2ciLCJxdWVyeSIsImluY2x1ZGVzIiwic3BsaXQiLCJsZW5ndGgiLCJhcHBOYW1lIiwiaXNDb25uZWN0ZWQiLCJhdXRob3JpemF0aW9uX2lkIiwiZGlzY29ubmVjdCIsInJlc3BvbnNlIiwiY29ubmVjdCIsImV4ZWN1dGUiLCJmYWtlRXhlY3V0aW5nRnVuY3Rpb24iLCJmZXRjaEZ1bmN0aW9ucyIsImRhdGEiLCJmdW5jdGlvbnMiLCJtZXRhIiwiYXBwIiwicmVuZGVyRnVuY3Rpb25VSSIsImFyZ3VtZW50cyIsInJlc3VsdCIsImludm9rZUZ1bmN0aW9uIiwiY2xvc2VQb3B1cCIsInN0eWxlIiwiZGlzcGxheSIsIkV4ZWN1dGlvblByb21wdCIsImJ1dHRvbkFjdGl2ZSIsInNldEJ1dHRvbkFjdGl2ZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImZha2VKU09OUmVzdWx0IiwiaW5zdHJ1Y3Rpb25zIiwicHJlZGljdCIsInByb21wdCIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsImZldGNoIiwibWV0aG9kIiwib2siLCJFcnJvciIsInN0YXR1c1RleHQiLCJqc29uIiwicG9wdXAiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ })

});