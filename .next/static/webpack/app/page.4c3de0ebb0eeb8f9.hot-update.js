"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/react-core */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-2MPUQRAY.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/react-core */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-DCTJZ742.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @copilotkit/react-core */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-RYDEG77L.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @copilotkit/react-core */ \"(app-pages-browser)/./node_modules/@copilotkit/react-core/dist/chunk-ZM6HV22S.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _integry_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @integry/sdk */ \"(app-pages-browser)/./node_modules/@integry/sdk/dist/esm/index.csm.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ \"(app-pages-browser)/./src/config.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\nfunction Home() {\n    _s();\n    useIntegryCopilotKitIntegration();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center justify-center min-h-screen\",\n        children: \"Integry Marketplace\"\n    }, void 0, false, {\n        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n        lineNumber: 22,\n        columnNumber: 5\n    }, this);\n}\n_s(Home, \"pNnxDWKybuAfXNlD39xU39vzQ+Y=\", false, function() {\n    return [\n        useIntegryCopilotKitIntegration\n    ];\n});\n_c = Home;\nfunction useIntegryCopilotKitIntegration() {\n    _s1();\n    const generalContext = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_4__.useCopilotContext)();\n    const messagesContext = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_5__.useCopilotMessagesContext)();\n    const context = {\n        ...generalContext,\n        ...messagesContext\n    };\n    const [integry, setIntegry] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        /**\n     * Initializing the Integry SDK object inside useEffect\n     */ _integry_sdk__WEBPACK_IMPORTED_MODULE_2__.Helpers.getAuthHash(_config__WEBPACK_IMPORTED_MODULE_3__.userId, _config__WEBPACK_IMPORTED_MODULE_3__.appSecret).then((hash1)=>{\n            const integry = new _integry_sdk__WEBPACK_IMPORTED_MODULE_2__.IntegryJS({\n                appKey: _config__WEBPACK_IMPORTED_MODULE_3__.appKey,\n                hash: hash1,\n                user: {\n                    userId: _config__WEBPACK_IMPORTED_MODULE_3__.userId,\n                    apiKey: \"\"\n                }\n            });\n            setIntegry(integry);\n        }).catch((error)=>{\n            console.error(\"Error fetching auth hash:\", error);\n        });\n    }, []);\n    (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotAction)({\n        name: \"findAndExecuteFunction\",\n        description: _config__WEBPACK_IMPORTED_MODULE_3__.findAndExecuteFunctionPrompt,\n        parameters: [\n            {\n                name: \"query\",\n                description: \"The query to search for a function\",\n                type: \"string\"\n            }\n        ],\n        handler: async ()=>{},\n        renderAndWait: (param)=>{\n            let { args, handler, status } = param;\n            if (status === \"inProgress\") {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: \"Loading...\"\n                }, void 0, false, {\n                    fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                    lineNumber: 78,\n                    columnNumber: 18\n                }, this);\n            } else if (status === \"executing\") {\n                console.log(args);\n                if (args.query.includes(\"disconnect\") && args.query.split(\".\")[1] && args.query.split(\".\").length === 2) {\n                    const appName = args.query.split(\".\")[1];\n                    integry.isConnected(appName).then((authorization_id)=>{\n                        if (authorization_id) {\n                            integry.disconnect(authorization_id).then((response)=>{\n                                handler();\n                            });\n                        } else {\n                            handler();\n                        }\n                    });\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            \"Disconnecting \",\n                            appName,\n                            \"...\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                        lineNumber: 97,\n                        columnNumber: 20\n                    }, this);\n                } else if (args.query.includes(\"connect\") && args.query.split(\".\")[1] && args.query.split(\".\").length === 2) {\n                    const appName = args.query.split(\".\")[1];\n                    integry.isConnected(appName).then((authorization_id)=>{\n                        if (authorization_id) {\n                            handler(\"Already connected.\");\n                        } else {\n                            integry.connect(appName).then((response)=>{\n                                handler(\"Connected successfully.\");\n                            });\n                        }\n                    });\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            \"Connecting \",\n                            appName,\n                            \"...\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                        lineNumber: 114,\n                        columnNumber: 20\n                    }, this);\n                }\n                const execute = ()=>{\n                    console.log(\"now executing the function...\");\n                    console.log(args);\n                    return fakeExecutingFunction(context, args.query);\n                };\n                fetchFunctions(_config__WEBPACK_IMPORTED_MODULE_3__.appKey, hash, _config__WEBPACK_IMPORTED_MODULE_3__.userId, true, args.query).then((data)=>{\n                    if (data.functions.length === 0) {\n                        handler(\"No appropriate function found.\");\n                        return;\n                    }\n                    integry.isConnected(data.functions[0].meta.app.name).then((authorization_id)=>{\n                        /**\n                   * returns the authorization_id if the app is connected\n                   * otherwise returns false\n                   */ if (authorization_id) {\n                            renderFunctionUI();\n                        } else {\n                            integry.connect(data.functions[0].meta.app.name).then((response)=>{\n                                renderFunctionUI();\n                            });\n                        }\n                    });\n                    function renderFunctionUI() {\n                        integry.renderFunctionUI(data.functions[0].name, data.functions[0].arguments).then((result)=>{\n                            integry.invokeFunction(result).then((response)=>{\n                                console.log(response);\n                                closePopup();\n                                handler(response);\n                            }).catch((error)=>{\n                                console.error(\"Error2:\", error);\n                            });\n                        }).catch((error)=>{\n                            console.error(\"Error2:\", error);\n                        });\n                    }\n                }).catch((error)=>{\n                    // Handle any errors from the fetchFunctions call\n                    console.error(\"Fetch failed:\", error);\n                });\n                return(// <ExecutionPrompt args={args} handler={handler} execute={execute} />\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: \"Setting this up for you...\"\n                }, void 0, false, {\n                    fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                    lineNumber: 176,\n                    columnNumber: 13\n                }, this));\n            } else {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"none\"\n                    },\n                    children: [\n                        \"Executed: \",\n                        args.query\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                    lineNumber: 179,\n                    columnNumber: 18\n                }, this);\n            }\n        }\n    });\n// useCopilotReadable({\n//   description: \"The list Integry functions.\",\n//   value: functions,\n// });\n}\n_s1(useIntegryCopilotKitIntegration, \"em1qDK4j+Wa3+sA1oxeb1YZkjcU=\", false, function() {\n    return [\n        _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_4__.useCopilotContext,\n        _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_5__.useCopilotMessagesContext,\n        _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotAction\n    ];\n});\nfunction ExecutionPrompt(param) {\n    let { args, handler, execute } = param;\n    _s2();\n    const [buttonActive, setButtonActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col items-center space-y-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    \"Do you want to execute the query: \",\n                    args.query,\n                    \"?\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                lineNumber: 219,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex space-x-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"px-4 py-2 text-white rounded \".concat(buttonActive ? \"bg-blue-300\" : \"bg-blue-500 hover:bg-blue-600\"),\n                        onClick: async ()=>{\n                            setButtonActive(true);\n                            const result = await execute();\n                            setButtonActive(false);\n                            handler({\n                                result\n                            });\n                        },\n                        disabled: buttonActive,\n                        children: \"Execute\"\n                    }, void 0, false, {\n                        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                        lineNumber: 221,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600\",\n                        onClick: ()=>handler(\"Function cancelled by the user. This is not an issue, it's ok.\"),\n                        children: \"Cancel\"\n                    }, void 0, false, {\n                        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                        lineNumber: 235,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n                lineNumber: 220,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/yasir/integry/devwork/copilot-kit/copilot-example/src/app/page.tsx\",\n        lineNumber: 218,\n        columnNumber: 5\n    }, this);\n}\n_s2(ExecutionPrompt, \"3EjVUVtYcxofuPA8032aWxN9Myk=\");\n_c1 = ExecutionPrompt;\nasync function fakeExecutingFunction(context, query) {\n    const { fakeJSONResult } = await (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_7__.extract)({\n        context,\n        instructions: \"The user asked to find and execute a function. You are given a query.\" + \"Make up a fake JSON result that can be used to simulate executing a function.\",\n        parameters: [\n            {\n                name: \"fakeJSONResult\",\n                description: \"A fake JSON result that can be used to simulate executing a function.\",\n                type: \"string\"\n            }\n        ],\n        data: {\n            query\n        }\n    });\n    return fakeJSONResult;\n}\nasync function fetchFunctions(appKey, hash1, userId, predict, prompt) {\n    // Construct the URL with the provided parameters\n    const url = \"https://app.integry.io/functions/?app_key=\".concat(encodeURIComponent(appKey), \"&hash=\").concat(encodeURIComponent(hash1), \"&user_id=\").concat(encodeURIComponent(userId), \"&predict_function=\").concat(predict, \"&prompt=\").concat(encodeURIComponent(prompt), \"&include=meta&predict_arguments=true\");\n    try {\n        const response = await fetch(url, {\n            method: \"GET\"\n        });\n        if (!response.ok) {\n            throw new Error(\"Network response was not ok: \" + response.statusText);\n        }\n        const data = await response.json(); // Parse the JSON from the response\n        return data; // Return the data\n    } catch (error) {\n        console.error(\"There was a problem with the fetch operation:\", error);\n        throw error; // Rethrow the error if needed\n    }\n}\n/**\n * A helper function use to force close the Integry dialogs.\n */ function closePopup() {\n    // Select the element whose ID starts with 'x-integry-modal'\n    const popup = document.querySelector('[id^=\"x-integry-modal\"]');\n    // Check if the popup exists before attempting to remove it\n    if (popup) {\n        popup.remove(); // Remove the popup from the DOM\n    } else {\n        console.log(\"Popup not found\"); // Optional: log if no popup was found\n    }\n}\nvar _c, _c1;\n$RefreshReg$(_c, \"Home\");\n$RefreshReg$(_c1, \"ExecutionPrompt\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBT2dDO0FBQ1k7QUFDTTtBQU0vQjtBQUdKLFNBQVNZOztJQUN0QkM7SUFDQSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTtrQkFBZ0Q7Ozs7OztBQUluRTtHQVB3Qkg7O1FBQ3RCQzs7O0tBRHNCRDtBQVN4QixTQUFTQzs7SUFDUCxNQUFNRyxpQkFBaUJkLHlFQUFpQkE7SUFDeEMsTUFBTWUsa0JBQWtCZCxpRkFBeUJBO0lBQ2pELE1BQU1lLFVBQVU7UUFBRSxHQUFHRixjQUFjO1FBQUUsR0FBR0MsZUFBZTtJQUFDO0lBRXhELE1BQU0sQ0FBQ0UsU0FBU0MsV0FBVyxHQUFHaEIsK0NBQVFBLENBQUM7SUFFdkNDLGdEQUFTQSxDQUFDO1FBQ1I7O0tBRUMsR0FDREUsaURBQU9BLENBQUNjLFdBQVcsQ0FBQ1gsMkNBQU1BLEVBQUVELDhDQUFTQSxFQUNsQ2EsSUFBSSxDQUFDLENBQUNDO1lBQ0wsTUFBTUosVUFBVSxJQUFJYixtREFBU0EsQ0FBQztnQkFDNUJFLE1BQU1BLDZDQUFBQTtnQkFDTmUsTUFBQUE7Z0JBQ0FDLE1BQU07b0JBQ0pkLFFBQVFBLDJDQUFNQTtvQkFDZGUsUUFBUTtnQkFDVjtZQUNGO1lBQ0FMLFdBQVdEO1FBQ2IsR0FDQ08sS0FBSyxDQUFDLENBQUNDO1lBQ05DLFFBQVFELEtBQUssQ0FBQyw2QkFBNkJBO1FBQzdDO0lBQ0osR0FBRyxFQUFFO0lBRUwzQix3RUFBZ0JBLENBQ2Q7UUFDRTZCLE1BQU07UUFDTkMsYUFBYW5CLGlFQUE0QkE7UUFDekNvQixZQUFZO1lBQ1Y7Z0JBQ0VGLE1BQU07Z0JBQ05DLGFBQWE7Z0JBQ2JFLE1BQU07WUFDUjtTQUNEO1FBQ0RDLFNBQVMsV0FBYTtRQUN0QkMsZUFBZTtnQkFBQyxFQUNkQyxJQUFJLEVBQ0pGLE9BQU8sRUFDUEcsTUFBTSxFQUtQO1lBQ0MsSUFBSUEsV0FBVyxjQUFjO2dCQUMz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Z0M7SUFDbEQsT0FBTztRQUNMdkQsUUFBUVMsR0FBRyxDQUFDLG9CQUFvQixzQ0FBc0M7SUFDeEU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHtcbiAgdXNlQ29waWxvdEFjdGlvbixcbiAgZXh0cmFjdCxcbiAgdXNlQ29waWxvdENvbnRleHQsXG4gIHVzZUNvcGlsb3RNZXNzYWdlc0NvbnRleHQsXG59IGZyb20gXCJAY29waWxvdGtpdC9yZWFjdC1jb3JlXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBJbnRlZ3J5SlMsIEhlbHBlcnMgfSBmcm9tIFwiQGludGVncnkvc2RrXCI7XG5pbXBvcnQge1xuICBhcHBLZXksXG4gIGFwcFNlY3JldCxcbiAgdXNlcklkLFxuICBmaW5kQW5kRXhlY3V0ZUZ1bmN0aW9uUHJvbXB0LFxufSBmcm9tIFwiLi4vY29uZmlnXCI7XG5pbXBvcnQgeyBGaW5kQW5kRXhlY3V0ZUZ1bmN0aW9uQXJncyB9IGZyb20gXCIuLi90eXBlcy90eXBlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lKCkge1xuICB1c2VJbnRlZ3J5Q29waWxvdEtpdEludGVncmF0aW9uKCk7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1zY3JlZW5cIj5cbiAgICAgIEludGVncnkgTWFya2V0cGxhY2VcbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gdXNlSW50ZWdyeUNvcGlsb3RLaXRJbnRlZ3JhdGlvbigpIHtcbiAgY29uc3QgZ2VuZXJhbENvbnRleHQgPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCBtZXNzYWdlc0NvbnRleHQgPSB1c2VDb3BpbG90TWVzc2FnZXNDb250ZXh0KCk7XG4gIGNvbnN0IGNvbnRleHQgPSB7IC4uLmdlbmVyYWxDb250ZXh0LCAuLi5tZXNzYWdlc0NvbnRleHQgfTtcblxuICBjb25zdCBbaW50ZWdyeSwgc2V0SW50ZWdyeV0gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemluZyB0aGUgSW50ZWdyeSBTREsgb2JqZWN0IGluc2lkZSB1c2VFZmZlY3RcbiAgICAgKi9cbiAgICBIZWxwZXJzLmdldEF1dGhIYXNoKHVzZXJJZCwgYXBwU2VjcmV0KVxuICAgICAgLnRoZW4oKGhhc2g6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBpbnRlZ3J5ID0gbmV3IEludGVncnlKUyh7XG4gICAgICAgICAgYXBwS2V5LFxuICAgICAgICAgIGhhc2gsXG4gICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICBhcGlLZXk6IFwiXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHNldEludGVncnkoaW50ZWdyeSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBhdXRoIGhhc2g6XCIsIGVycm9yKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgdXNlQ29waWxvdEFjdGlvbihcbiAgICB7XG4gICAgICBuYW1lOiBcImZpbmRBbmRFeGVjdXRlRnVuY3Rpb25cIixcbiAgICAgIGRlc2NyaXB0aW9uOiBmaW5kQW5kRXhlY3V0ZUZ1bmN0aW9uUHJvbXB0LFxuICAgICAgcGFyYW1ldGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogXCJxdWVyeVwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBxdWVyeSB0byBzZWFyY2ggZm9yIGEgZnVuY3Rpb25cIixcbiAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHt9LFxuICAgICAgcmVuZGVyQW5kV2FpdDogKHtcbiAgICAgICAgYXJncyxcbiAgICAgICAgaGFuZGxlcixcbiAgICAgICAgc3RhdHVzLFxuICAgICAgfToge1xuICAgICAgICBhcmdzOiBGaW5kQW5kRXhlY3V0ZUZ1bmN0aW9uQXJncztcbiAgICAgICAgaGFuZGxlcjogKHJlc3BvbnNlPzogYW55KSA9PiB2b2lkO1xuICAgICAgICBzdGF0dXM6IHN0cmluZztcbiAgICAgIH0pID0+IHtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gXCJpblByb2dyZXNzXCIpIHtcbiAgICAgICAgICByZXR1cm4gPGRpdj5Mb2FkaW5nLi4uPC9kaXY+O1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gXCJleGVjdXRpbmdcIikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3MpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGFyZ3MucXVlcnkuaW5jbHVkZXMoXCJkaXNjb25uZWN0XCIpICYmXG4gICAgICAgICAgICBhcmdzLnF1ZXJ5LnNwbGl0KFwiLlwiKVsxXSAmJlxuICAgICAgICAgICAgYXJncy5xdWVyeS5zcGxpdChcIi5cIikubGVuZ3RoID09PSAyXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBhcHBOYW1lID0gYXJncy5xdWVyeS5zcGxpdChcIi5cIilbMV07XG4gICAgICAgICAgICBpbnRlZ3J5LmlzQ29ubmVjdGVkKGFwcE5hbWUpLnRoZW4oKGF1dGhvcml6YXRpb25faWQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGF1dGhvcml6YXRpb25faWQpIHtcbiAgICAgICAgICAgICAgICBpbnRlZ3J5LmRpc2Nvbm5lY3QoYXV0aG9yaXphdGlvbl9pZCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gPGRpdj5EaXNjb25uZWN0aW5nIHthcHBOYW1lfS4uLjwvZGl2PjtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgYXJncy5xdWVyeS5pbmNsdWRlcyhcImNvbm5lY3RcIikgJiZcbiAgICAgICAgICAgIGFyZ3MucXVlcnkuc3BsaXQoXCIuXCIpWzFdICYmXG4gICAgICAgICAgICBhcmdzLnF1ZXJ5LnNwbGl0KFwiLlwiKS5sZW5ndGggPT09IDJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcE5hbWUgPSBhcmdzLnF1ZXJ5LnNwbGl0KFwiLlwiKVsxXTtcbiAgICAgICAgICAgIGludGVncnkuaXNDb25uZWN0ZWQoYXBwTmFtZSkudGhlbigoYXV0aG9yaXphdGlvbl9pZCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoYXV0aG9yaXphdGlvbl9pZCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIoXCJBbHJlYWR5IGNvbm5lY3RlZC5cIik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW50ZWdyeS5jb25uZWN0KGFwcE5hbWUpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVyKFwiQ29ubmVjdGVkIHN1Y2Nlc3NmdWxseS5cIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gPGRpdj5Db25uZWN0aW5nIHthcHBOYW1lfS4uLjwvZGl2PjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZXhlY3V0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm93IGV4ZWN1dGluZyB0aGUgZnVuY3Rpb24uLi5cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiBmYWtlRXhlY3V0aW5nRnVuY3Rpb24oY29udGV4dCwgYXJncy5xdWVyeSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGZldGNoRnVuY3Rpb25zKGFwcEtleSwgaGFzaCwgdXNlcklkLCB0cnVlLCBhcmdzLnF1ZXJ5KVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGRhdGEuZnVuY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIoXCJObyBhcHByb3ByaWF0ZSBmdW5jdGlvbiBmb3VuZC5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGludGVncnlcbiAgICAgICAgICAgICAgICAuaXNDb25uZWN0ZWQoZGF0YS5mdW5jdGlvbnNbMF0ubWV0YS5hcHAubmFtZSlcbiAgICAgICAgICAgICAgICAudGhlbigoYXV0aG9yaXphdGlvbl9pZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgKiByZXR1cm5zIHRoZSBhdXRob3JpemF0aW9uX2lkIGlmIHRoZSBhcHAgaXMgY29ubmVjdGVkXG4gICAgICAgICAgICAgICAgICAgKiBvdGhlcndpc2UgcmV0dXJucyBmYWxzZVxuICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICBpZiAoYXV0aG9yaXphdGlvbl9pZCkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJGdW5jdGlvblVJKCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbnRlZ3J5XG4gICAgICAgICAgICAgICAgICAgICAgLmNvbm5lY3QoZGF0YS5mdW5jdGlvbnNbMF0ubWV0YS5hcHAubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckZ1bmN0aW9uVUkoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBmdW5jdGlvbiByZW5kZXJGdW5jdGlvblVJKCkge1xuICAgICAgICAgICAgICAgIGludGVncnlcbiAgICAgICAgICAgICAgICAgIC5yZW5kZXJGdW5jdGlvblVJKFxuICAgICAgICAgICAgICAgICAgICBkYXRhLmZ1bmN0aW9uc1swXS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBkYXRhLmZ1bmN0aW9uc1swXS5hcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZWdyeVxuICAgICAgICAgICAgICAgICAgICAgIC5pbnZva2VGdW5jdGlvbihyZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZVBvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjI6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjI6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAvLyBIYW5kbGUgYW55IGVycm9ycyBmcm9tIHRoZSBmZXRjaEZ1bmN0aW9ucyBjYWxsXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGZXRjaCBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIC8vIDxFeGVjdXRpb25Qcm9tcHQgYXJncz17YXJnc30gaGFuZGxlcj17aGFuZGxlcn0gZXhlY3V0ZT17ZXhlY3V0ZX0gLz5cbiAgICAgICAgICAgIDxkaXY+U2V0dGluZyB0aGlzIHVwIGZvciB5b3UuLi48L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19PkV4ZWN1dGVkOiB7YXJncy5xdWVyeX08L2Rpdj47XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfVxuICAgIC8vIHtcbiAgICAvLyAgIG5hbWU6IFwiYWRkVG9kb0l0ZW1cIixcbiAgICAvLyAgIGRlc2NyaXB0aW9uOiBcIkFkZCBhIG5ldyB0b2RvIGl0ZW0gdG8gdGhlIGxpc3RcIixcbiAgICAvLyAgIHBhcmFtZXRlcnM6IFtcbiAgICAvLyAgICAge1xuICAgIC8vICAgICAgIG5hbWU6IFwidG9kb1RleHRcIixcbiAgICAvLyAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIC8vICAgICAgIGRlc2NyaXB0aW9uOiBcIlRoZSB0ZXh0IG9mIHRoZSB0b2RvIGl0ZW0gdG8gYWRkXCIsXG4gICAgLy8gICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgLy8gICAgIH0sXG4gICAgLy8gICBdLFxuICAgIC8vICAgaGFuZGxlcjogYXN5bmMgKHsgdG9kb1RleHQgfSkgPT4ge1xuICAgIC8vICAgICBjb25zb2xlLmxvZyh0b2RvVGV4dCk7XG4gICAgLy8gICB9LFxuICAgIC8vIH1cbiAgKTtcblxuICAvLyB1c2VDb3BpbG90UmVhZGFibGUoe1xuICAvLyAgIGRlc2NyaXB0aW9uOiBcIlRoZSBsaXN0IEludGVncnkgZnVuY3Rpb25zLlwiLFxuICAvLyAgIHZhbHVlOiBmdW5jdGlvbnMsXG4gIC8vIH0pO1xufVxuXG5mdW5jdGlvbiBFeGVjdXRpb25Qcm9tcHQoe1xuICBhcmdzLFxuICBoYW5kbGVyLFxuICBleGVjdXRlLFxufToge1xuICBhcmdzOiBhbnk7XG4gIGhhbmRsZXI6IGFueTtcbiAgZXhlY3V0ZTogKCkgPT4gUHJvbWlzZTxhbnk+O1xufSkge1xuICBjb25zdCBbYnV0dG9uQWN0aXZlLCBzZXRCdXR0b25BY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBzcGFjZS15LTRcIj5cbiAgICAgIDxkaXY+RG8geW91IHdhbnQgdG8gZXhlY3V0ZSB0aGUgcXVlcnk6IHthcmdzLnF1ZXJ5fT88L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTRcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiB0ZXh0LXdoaXRlIHJvdW5kZWQgJHtcbiAgICAgICAgICAgIGJ1dHRvbkFjdGl2ZSA/IFwiYmctYmx1ZS0zMDBcIiA6IFwiYmctYmx1ZS01MDAgaG92ZXI6YmctYmx1ZS02MDBcIlxuICAgICAgICAgIH1gfVxuICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHNldEJ1dHRvbkFjdGl2ZSh0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGUoKTtcbiAgICAgICAgICAgIHNldEJ1dHRvbkFjdGl2ZShmYWxzZSk7XG4gICAgICAgICAgICBoYW5kbGVyKHsgcmVzdWx0IH0pO1xuICAgICAgICAgIH19XG4gICAgICAgICAgZGlzYWJsZWQ9e2J1dHRvbkFjdGl2ZX1cbiAgICAgICAgPlxuICAgICAgICAgIEV4ZWN1dGVcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctZ3JheS01MDAgdGV4dC13aGl0ZSByb3VuZGVkIGhvdmVyOmJnLWdyYXktNjAwXCJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgaGFuZGxlcihcbiAgICAgICAgICAgICAgXCJGdW5jdGlvbiBjYW5jZWxsZWQgYnkgdGhlIHVzZXIuIFRoaXMgaXMgbm90IGFuIGlzc3VlLCBpdCdzIG9rLlwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICA+XG4gICAgICAgICAgQ2FuY2VsXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZha2VFeGVjdXRpbmdGdW5jdGlvbihjb250ZXh0OiBhbnksIHF1ZXJ5OiBzdHJpbmcpIHtcbiAgY29uc3QgeyBmYWtlSlNPTlJlc3VsdCB9ID0gYXdhaXQgZXh0cmFjdCh7XG4gICAgY29udGV4dCxcbiAgICBpbnN0cnVjdGlvbnM6XG4gICAgICBcIlRoZSB1c2VyIGFza2VkIHRvIGZpbmQgYW5kIGV4ZWN1dGUgYSBmdW5jdGlvbi4gWW91IGFyZSBnaXZlbiBhIHF1ZXJ5LlwiICtcbiAgICAgIFwiTWFrZSB1cCBhIGZha2UgSlNPTiByZXN1bHQgdGhhdCBjYW4gYmUgdXNlZCB0byBzaW11bGF0ZSBleGVjdXRpbmcgYSBmdW5jdGlvbi5cIixcbiAgICBwYXJhbWV0ZXJzOiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiZmFrZUpTT05SZXN1bHRcIixcbiAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgXCJBIGZha2UgSlNPTiByZXN1bHQgdGhhdCBjYW4gYmUgdXNlZCB0byBzaW11bGF0ZSBleGVjdXRpbmcgYSBmdW5jdGlvbi5cIixcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBkYXRhOiB7XG4gICAgICBxdWVyeSxcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIGZha2VKU09OUmVzdWx0O1xufVxuXG5hc3luYyBmdW5jdGlvbiBmZXRjaEZ1bmN0aW9ucyhhcHBLZXksIGhhc2gsIHVzZXJJZCwgcHJlZGljdCwgcHJvbXB0KSB7XG4gIC8vIENvbnN0cnVjdCB0aGUgVVJMIHdpdGggdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnNcbiAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBwLmludGVncnkuaW8vZnVuY3Rpb25zLz9hcHBfa2V5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgIGFwcEtleVxuICApfSZoYXNoPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGhhc2gpfSZ1c2VyX2lkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgIHVzZXJJZFxuICApfSZwcmVkaWN0X2Z1bmN0aW9uPSR7cHJlZGljdH0mcHJvbXB0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgIHByb21wdFxuICApfSZpbmNsdWRlPW1ldGEmcHJlZGljdF9hcmd1bWVudHM9dHJ1ZWA7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLCAvLyBEZWZhdWx0IG1ldGhvZCBpcyBHRVRcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvazogXCIgKyByZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOyAvLyBQYXJzZSB0aGUgSlNPTiBmcm9tIHRoZSByZXNwb25zZVxuICAgIHJldHVybiBkYXRhOyAvLyBSZXR1cm4gdGhlIGRhdGFcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBmZXRjaCBvcGVyYXRpb246XCIsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjsgLy8gUmV0aHJvdyB0aGUgZXJyb3IgaWYgbmVlZGVkXG4gIH1cbn1cblxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB1c2UgdG8gZm9yY2UgY2xvc2UgdGhlIEludGVncnkgZGlhbG9ncy5cbiAqL1xuZnVuY3Rpb24gY2xvc2VQb3B1cCgpIHtcbiAgLy8gU2VsZWN0IHRoZSBlbGVtZW50IHdob3NlIElEIHN0YXJ0cyB3aXRoICd4LWludGVncnktbW9kYWwnXG4gIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2lkXj1cIngtaW50ZWdyeS1tb2RhbFwiXScpO1xuXG4gIC8vIENoZWNrIGlmIHRoZSBwb3B1cCBleGlzdHMgYmVmb3JlIGF0dGVtcHRpbmcgdG8gcmVtb3ZlIGl0XG4gIGlmIChwb3B1cCkge1xuICAgIHBvcHVwLnJlbW92ZSgpOyAvLyBSZW1vdmUgdGhlIHBvcHVwIGZyb20gdGhlIERPTVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKFwiUG9wdXAgbm90IGZvdW5kXCIpOyAvLyBPcHRpb25hbDogbG9nIGlmIG5vIHBvcHVwIHdhcyBmb3VuZFxuICB9XG59XG4iXSwibmFtZXMiOlsidXNlQ29waWxvdEFjdGlvbiIsImV4dHJhY3QiLCJ1c2VDb3BpbG90Q29udGV4dCIsInVzZUNvcGlsb3RNZXNzYWdlc0NvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkludGVncnlKUyIsIkhlbHBlcnMiLCJhcHBLZXkiLCJhcHBTZWNyZXQiLCJ1c2VySWQiLCJmaW5kQW5kRXhlY3V0ZUZ1bmN0aW9uUHJvbXB0IiwiSG9tZSIsInVzZUludGVncnlDb3BpbG90S2l0SW50ZWdyYXRpb24iLCJkaXYiLCJjbGFzc05hbWUiLCJnZW5lcmFsQ29udGV4dCIsIm1lc3NhZ2VzQ29udGV4dCIsImNvbnRleHQiLCJpbnRlZ3J5Iiwic2V0SW50ZWdyeSIsImdldEF1dGhIYXNoIiwidGhlbiIsImhhc2giLCJ1c2VyIiwiYXBpS2V5IiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwYXJhbWV0ZXJzIiwidHlwZSIsImhhbmRsZXIiLCJyZW5kZXJBbmRXYWl0IiwiYXJncyIsInN0YXR1cyIsImxvZyIsInF1ZXJ5IiwiaW5jbHVkZXMiLCJzcGxpdCIsImxlbmd0aCIsImFwcE5hbWUiLCJpc0Nvbm5lY3RlZCIsImF1dGhvcml6YXRpb25faWQiLCJkaXNjb25uZWN0IiwicmVzcG9uc2UiLCJjb25uZWN0IiwiZXhlY3V0ZSIsImZha2VFeGVjdXRpbmdGdW5jdGlvbiIsImZldGNoRnVuY3Rpb25zIiwiZGF0YSIsImZ1bmN0aW9ucyIsIm1ldGEiLCJhcHAiLCJyZW5kZXJGdW5jdGlvblVJIiwiYXJndW1lbnRzIiwicmVzdWx0IiwiaW52b2tlRnVuY3Rpb24iLCJjbG9zZVBvcHVwIiwic3R5bGUiLCJkaXNwbGF5IiwiRXhlY3V0aW9uUHJvbXB0IiwiYnV0dG9uQWN0aXZlIiwic2V0QnV0dG9uQWN0aXZlIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwiZmFrZUpTT05SZXN1bHQiLCJpbnN0cnVjdGlvbnMiLCJwcmVkaWN0IiwicHJvbXB0IiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmV0Y2giLCJtZXRob2QiLCJvayIsIkVycm9yIiwic3RhdHVzVGV4dCIsImpzb24iLCJwb3B1cCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJlbW92ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ })

});